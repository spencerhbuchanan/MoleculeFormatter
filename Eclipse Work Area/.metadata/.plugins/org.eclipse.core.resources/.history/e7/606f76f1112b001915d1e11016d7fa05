package ch.makery.address.view;

import ch.makery.address.MainApp;
import ch.makery.address.model.Person;
import javafx.fxml.FXML;
import javafx.scene.control.Label;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;


public class PersonOverviewController {
  @FXML
  private TableView<Person> personTable;
  @FXML
  private TableColumn<Person, String> firstNameColumn;
  @FXML
  private TableColumn<Person, String> lastNameColumn;

  @FXML
  private Label firstNameLabel;
  @FXML
  private Label lastNameLabel;
  @FXML
  private Label streetLabel;
  @FXML
  private Label cityLabel;
  @FXML
  private Label postalCodeLabel;
  @FXML
  private Label birthdayLabel;

  private MainApp mainApp; // reference to the main application;

  /**
   * The constructor. The constructor is called before the initialize() method.
   */

  public PersonOverviewController() {

  }

  /*
   * Initializes the controller class. This method is automatically called after the fxml file has
   * been loaded.
   */

  private void initialize() {
    firstNameColumn.setCellValueFactory(cellData -> cellData.getValue().firstNameProperty());
    lastNameColumn.setCellValueFactory(cellData -> cellData.getValue().lastNameProperty());
  }

  /*
   * Called by main application to give a reference back to itself.
   * 
   * @param mainApp
   */

  public void setMainApp(MainApp mainApp) {
    this.mainApp = mainApp;
    personTable.setItems(mainApp.getPersonData());
  }

}
